# NextAuth
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=replace-with-openssl-rand-hex
NEXTAUTH_TRUST_HOST=true

# 環境識別（UIに常時表示され、事故防止に使う）
# - local: ローカル開発（既定）
# - staging: 検証環境（既定でREAD ONLYに倒す）
# - production: 本番環境
MAILHUB_ENV=local

# Google OAuth (used by NextAuth + Gmail API refresh)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Shared inbox (server-side only)
GOOGLE_SHARED_INBOX_EMAIL=inbox@vtj.co.jp
GOOGLE_SHARED_INBOX_REFRESH_TOKEN=

# Rakuten RMS API (optional - for in-app reply)
# If not set, RMS reply will fallback to opening RMS in browser
RMS_STORE_A_SHOP_ID=
RMS_STORE_A_SERVICE_SECRET=
RMS_STORE_A_LICENSE_KEY=
RMS_STORE_B_SHOP_ID=
RMS_STORE_B_SERVICE_SECRET=
RMS_STORE_B_LICENSE_KEY=
RMS_STORE_C_SHOP_ID=
RMS_STORE_C_SERVICE_SECRET=
RMS_STORE_C_LICENSE_KEY=

# Rakuten RMS Base URL (Step55: Reply Launcher)
# RMS問い合わせ画面へのdeep link URLのベース（例: https://rms.rakuten.co.jp）
# 未設定の場合は「RMSを開く」ボタンが無効化される
# MAILHUB_RAKUTEN_RMS_BASE_URL=https://rms.rakuten.co.jp

# Activity Store（永続化方式）
# - memory: メモリリングバッファ（既定、再起動で消える）
# - file: ローカルファイル（.mailhub/activity.jsonl、開発/CI用）
# - sheets: Google Sheets（本番推奨、再起動で消えない）
MAILHUB_ACTIVITY_STORE=memory

# Google Sheets設定（MAILHUB_ACTIVITY_STORE=sheetsの場合に必要）
# MAILHUB_SHEETS_SPREADSHEET_ID=your-spreadsheet-id
# MAILHUB_SHEETS_CLIENT_EMAIL=your-service-account@project.iam.gserviceaccount.com
# MAILHUB_SHEETS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# MAILHUB_SHEETS_SHEET_NAME=Activity

# Config Store（Settings: Labels/Rules 永続化方式）
# - memory: メモリ（TEST_MODE向け/一時）
# - file: ローカルファイル（.mailhub/*.json、開発/CI向け）
# - sheets: Google Sheets（staging/prod推奨）
MAILHUB_CONFIG_STORE=file

# Config Store Sheets（MAILHUB_CONFIG_STORE=sheets の場合）
# 既存の MAILHUB_SHEETS_SPREADSHEET_ID / MAILHUB_SHEETS_CLIENT_EMAIL / MAILHUB_SHEETS_PRIVATE_KEY を流用します。
# （別名で MAILHUB_SHEETS_ID も利用可能）
# MAILHUB_SHEETS_ID=your-spreadsheet-id
# MAILHUB_SHEETS_TAB_LABELS=ConfigLabels
# MAILHUB_SHEETS_TAB_RULES=ConfigRules

# Admin Guard（Settingsの編集権限）
# カンマ区切りCSVで管理者メールを指定（未設定だと誰も編集できません）
# MAILHUB_ADMINS="takayuki@vtj.co.jp,foo@vtj.co.jp"

# READ ONLY（実データ接続の安全装置）
# - 1: 変更系APIを403で拒否し、UIも無効化（Preview/閲覧のみ）
# - 0: 通常モード（書き込み可能）
MAILHUB_READ_ONLY=1

# SLA Alerts（通知設定）
# - none: 通知無効（既定）
# - log: ログ出力のみ（テストモードでは自動的にlog）
# - slack: Slack webhook（本番推奨）
MAILHUB_ALERTS_PROVIDER=none
# MAILHUB_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# SLA Alerts認可（本番必須）
# production環境では必須。Authorization: Bearer <secret> で認可
# MAILHUB_ALERTS_SECRET=your-secret-token-here

# Config export (Step31)
# - GitHub Actions 等から Config（labels/rules）のバックアップを取得するためのsecret
# - productionでは Bearer認可で使用（Authorization: Bearer <secret>）
# - Export payloadには秘密情報は含まれません（labels/rulesのみ）
# MAILHUB_CONFIG_EXPORT_SECRET=your-long-random-secret

# Auto Rules Runner (Step53)
# - GitHub Actions 等から Auto Rules を定期実行するためのsecret
# - productionでは Bearer認可で使用（Authorization: Bearer <secret>）
# - test modeではスキップ（E2Eテスト用）
# MAILHUB_RULES_SECRET=your-long-random-secret


